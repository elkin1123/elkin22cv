{% extends "base.html" %}

{% block title %}Inicio - {{ perfil.nombres|default:"CV" }}{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="text-center mb-5">
        <h1 class="fw-bold" style="color: var(--rosa-fuerte);">
            {% if perfil %}
                {{ perfil.nombres }} {{ perfil.apellidos }}
            {% else %}
                Mi Portafolio Profesional
            {% endif %}
        </h1>
        <p class="lead text-muted">Desarrollador Web | Estudiante de TI</p>
    </div>

    {% if perfil %}
        <!-- Profile Info -->
        <div class="card shadow-sm mb-4">
            <div class="card-body">
                <h3 class="card-title mb-3">üë§ Informaci√≥n Personal</h3>
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Email:</strong> {{ perfil.email_contacto|default:"No disponible" }}</p>
                        <p><strong>Tel√©fono:</strong> {{ perfil.telefonoconvencional|default:"No disponible" }}</p>
                        <p><strong>Nacionalidad:</strong> {{ perfil.nacionalidad|default:"No disponible" }}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>C√©dula:</strong> {{ perfil.numerocedula|default:"No disponible" }}</p>
                        <p><strong>Fecha Nacimiento:</strong> 
                            {% if perfil.fechanacimiento %}
                                {{ perfil.fechanacimiento|date:"d/m/Y" }}
                            {% else %}
                                No disponible
                            {% endif %}
                        </p>
                        <p><strong>Sitio Web:</strong> 
                            {% if perfil.sitioweb %}
                                <a href="{{ perfil.sitioweb }}" target="_blank">{{ perfil.sitioweb }}</a>
                            {% else %}
                                No disponible
                            {% endif %}
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Description -->
        <div class="card shadow-sm mb-4">
            <div class="card-body">
                <h3 class="card-title mb-3">üìù Sobre M√≠</h3>
                <p class="card-text">
                    {{ perfil.descripcionperfil|default:"Estudiante de Tecnolog√≠a de la Informaci√≥n apasionado por el desarrollo web y la programaci√≥n."|linebreaks }}
                </p>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="row mb-4">
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="card text-center h-100">
                    <div class="card-body">
                        <h2 class="text-primary">{{ resumen_exp|length }}</h2>
                        <p class="card-text">Experiencias</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="card text-center h-100">
                    <div class="card-body">
                        <h2 class="text-success">{{ resumen_cursos|length }}</h2>
                        <p class="card-text">Cursos</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="card text-center h-100">
                    <div class="card-body">
                        <h2 class="text-warning">{{ resumen_rec|length }}</h2>
                        <p class="card-text">Reconocimientos</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="card text-center h-100">
                    <div class="card-body">
                        <h2 class="text-info">{{ resumen_garage|length }}</h2>
                        <p class="card-text">Productos en Garage</p>
                    </div>
                </div>
            </div>
        </div>

    {% else %}
        <!-- No Profile Message -->
        <div class="alert alert-warning text-center">
            <h4>‚ö†Ô∏è No hay perfil activo</h4>
            <p>Por favor, crea un perfil en el panel de administraci√≥n y m√°rcalo como activo.</p>
            <a href="/admin/tasks/datospersonales/add/" class="btn btn-primary">
                <i class="bi bi-plus-circle me-1"></i> Crear Perfil
            </a>
        </div>
    {% endif %}

    <!-- Quick Links -->
    <div class="text-center mt-5">
        <h3 class="mb-4">üåê Acceso R√°pido</h3>
        <div class="row">
            <div class="col-md-2 col-sm-4 mb-3">
                <a href="/experiencia/" class="btn btn-outline-primary w-100">Experiencia</a>
            </div>
            <div class="col-md-2 col-sm-4 mb-3">
                <a href="/cursos/" class="btn btn-outline-success w-100">Cursos</a>
            </div>
            <div class="col-md-2 col-sm-4 mb-3">
                <a href="/reconocimientos/" class="btn btn-outline-warning w-100">Reconocimientos</a>
            </div>
            <div class="col-md-2 col-sm-4 mb-3">
                <a href="/productos-laborales/" class="btn btn-outline-info w-100">Prod. Laborales</a>
            </div>
            <div class="col-md-2 col-sm-4 mb-3">
                <a href="/productos-academicos/" class="btn btn-outline-secondary w-100">Prod. Acad√©micos</a>
            </div>
            <div class="col-md-2 col-sm-4 mb-3">
                <a href="/garage/" class="btn btn-outline-dark w-100">Garage</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}