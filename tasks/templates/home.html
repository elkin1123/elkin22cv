{% extends "base.html" %}

{% block title %}Inicio - {{ perfil.nombres|default:"CV" }}{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="text-center mb-5">
        <h1 class="fw-bold" style="color: var(--rosa-fuerte);">
            {% if perfil %}
                {{ perfil.nombres }} {{ perfil.apellidos }}
            {% else %}
                Mi Portafolio Profesional
            {% endif %}
        </h1>
        <p class="lead text-muted">Desarrollador Web | Estudiante de TI</p>
    </div>

    {% if perfil %}
        <!-- Profile Info -->
        <div class="card shadow-sm mb-4">
            <div class="card-body">
                <h3 class="card-title mb-3">üë§ Informaci√≥n Personal</h3>
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>üìß Email:</strong> {{ perfil.email_contacto|default:"No disponible" }}</p>
                        <p><strong>üìû Tel√©fono:</strong> {{ perfil.telefonoconvencional|default:"No disponible" }}</p>
                        <p><strong>üåç Nacionalidad:</strong> {{ perfil.nacionalidad|default:"No disponible" }}</p>
                        <p><strong>üë´ Estado Civil:</strong> {{ perfil.estadocivil|default:"No disponible" }}</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>üÜî C√©dula:</strong> {{ perfil.numerocedula|default:"No disponible" }}</p>
                        <!-- FECHA NACIMIENTO ELIMINADA -->
                        <!-- LICENCIA CONDUCIR ELIMINADA -->
                        <p><strong>üìç Direcci√≥n:</strong> {{ perfil.direcciondomiciliaria|default:"No disponible" }}</p>
                        <p><strong>üåê Sitio Web:</strong> 
                            {% if perfil.sitioweb %}
                                <a href="{{ perfil.sitioweb }}" target="_blank" class="text-decoration-none">
                                    <i class="bi bi-link-45deg"></i> {{ perfil.sitioweb|truncatechars:30 }}
                                </a>
                            {% else %}
                                No disponible
                            {% endif %}
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Description -->
        <div class="card shadow-sm mb-4">
            <div class="card-body">
                <h3 class="card-title mb-3">üìù Sobre M√≠</h3>
                <p class="card-text">
                    {{ perfil.descripcionperfil|default:"Estudiante de Tecnolog√≠a de la Informaci√≥n apasionado por el desarrollo web y la programaci√≥n."|linebreaks }}
                </p>
            </div>
        </div>

        <!-- üìä Estad√≠sticas Detalladas -->
        <div class="row mb-4">
            <!-- Experiencia Laboral -->
            <div class="col-md-4 col-sm-6 mb-3">
                <div class="card text-center h-100 border-primary">
                    <div class="card-body">
                        <i class="bi bi-briefcase-fill text-primary" style="font-size: 2.5rem;"></i>
                        <h2 class="text-primary mt-2">{{ total_experiencias }}</h2>
                        <p class="card-text fw-bold">Experiencias Laborales</p>
                        {% if experiencias_actuales > 0 %}
                        <small class="text-muted">{{ experiencias_actuales }} actuales</small>
                        {% else %}
                        <small class="text-muted">Total registradas</small>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Cursos -->
            <div class="col-md-4 col-sm-6 mb-3">
                <div class="card text-center h-100 border-success">
                    <div class="card-body">
                        <i class="bi bi-mortarboard-fill text-success" style="font-size: 2.5rem;"></i>
                        <h2 class="text-success mt-2">{{ total_cursos }}</h2>
                        <p class="card-text fw-bold">Cursos Realizados</p>
                        {% if total_horas_cursos > 0 %}
                        <small class="text-muted">{{ total_horas_cursos }} horas totales</small>
                        {% else %}
                        <small class="text-muted">Total cursos</small>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Reconocimientos -->
            <div class="col-md-4 col-sm-6 mb-3">
                <div class="card text-center h-100 border-warning">
                    <div class="card-body">
                        <i class="bi bi-award-fill text-warning" style="font-size: 2.5rem;"></i>
                        <h2 class="text-warning mt-2">{{ total_reconocimientos }}</h2>
                        <p class="card-text fw-bold">Reconocimientos</p>
                        <small class="text-muted">Logros acad√©micos</small>
                    </div>
                </div>
            </div>
            
            <!-- Productos Laborales -->
            <div class="col-md-4 col-sm-6 mb-3">
                <div class="card text-center h-100 border-info">
                    <div class="card-body">
                        <i class="bi bi-rocket-takeoff-fill text-info" style="font-size: 2.5rem;"></i>
                        <h2 class="text-info mt-2">{{ total_productos_laborales }}</h2>
                        <p class="card-text fw-bold">Productos Laborales</p>
                        <small class="text-muted">Proyectos profesionales</small>
                    </div>
                </div>
            </div>
            
            <!-- Productos Acad√©micos -->
            <div class="col-md-4 col-sm-6 mb-3">
                <div class="card text-center h-100 border-secondary">
                    <div class="card-body">
                        <i class="bi bi-journal-bookmark-fill text-secondary" style="font-size: 2.5rem;"></i>
                        <h2 class="text-secondary mt-2">{{ total_productos_academicos }}</h2>
                        <p class="card-text fw-bold">Productos Acad√©micos</p>
                        <small class="text-muted">Trabajos de investigaci√≥n</small>
                    </div>
                </div>
            </div>
            
            <!-- Garage -->
            <div class="col-md-4 col-sm-6 mb-3">
                <div class="card text-center h-100 border-dark">
                    <div class="card-body">
                        <i class="bi bi-bag-heart-fill text-dark" style="font-size: 2.5rem;"></i>
                        <h2 class="text-dark mt-2">{{ total_garage }}</h2>
                        <p class="card-text fw-bold">Productos en Garage</p>
                        <small class="text-muted">Art√≠culos en venta</small>
                    </div>
                </div>
            </div>
        </div>

    {% else %}
        <!-- No Profile Message -->
        <div class="alert alert-warning text-center">
            <h4>‚ö†Ô∏è No hay perfil activo</h4>
            <p>Por favor, crea un perfil en el panel de administraci√≥n y m√°rcalo como activo.</p>
            <a href="/admin/tasks/datospersonales/add/" class="btn btn-primary">
                <i class="bi bi-plus-circle me-1"></i> Crear Perfil
            </a>
        </div>
    {% endif %}

    <!-- Quick Links -->
    <div class="text-center mt-5">
        <h3 class="mb-4">üåê Acceso R√°pido</h3>
        <div class="row justify-content-center">
            <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                <a href="/experiencia/" class="btn btn-outline-primary w-100">
                    <i class="bi bi-briefcase-fill me-1"></i> Experiencia
                </a>
            </div>
            <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                <a href="/cursos/" class="btn btn-outline-success w-100">
                    <i class="bi bi-mortarboard-fill me-1"></i> Cursos
                </a>
            </div>
            <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                <a href="/reconocimientos/" class="btn btn-outline-warning w-100">
                    <i class="bi bi-award-fill me-1"></i> Reconocimientos
                </a>
            </div>
            <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                <a href="/productos-laborales/" class="btn btn-outline-info w-100">
                    <i class="bi bi-rocket-takeoff-fill me-1"></i> Prod. Laborales
                </a>
            </div>
            <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                <a href="/productos-academicos/" class="btn btn-outline-secondary w-100">
                    <i class="bi bi-journal-bookmark-fill me-1"></i> Prod. Acad√©micos
                </a>
            </div>
            <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-3">
                <a href="/garage/" class="btn btn-outline-dark w-100">
                    <i class="bi bi-bag-heart-fill me-1"></i> Garage
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}